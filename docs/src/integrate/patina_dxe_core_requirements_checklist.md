# Patina DXE Core Requirements Platform Checklist

| ✅ | Requirement | Summary | Details |
|---:|---|---|---|
| [ ] | **1.1 Standalone MM is Used** | Traditional SMM and combined SMM/DXE modules aren’t supported, use **Standalone MM** instead. SMM-specific file types/DEPEX aren’t dispatched/evaluated. | [No Traditional SMM](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#11-no-traditional-smm) |
| [ ] | **1.2 A Priori Driver Dispatch Is Not Used** | Remove *A Priori* sections. Patina dispatches in **FFS listed order**. Use **DEPEX** (optionally with empty/stub protocols) to control dependencies. | [A Priori Driver Dispatch Is Not Allowed](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#12-a-priori-driver-dispatch-is-not-allowed) |
| [ ] | **1.3 All DXE Dispatchable Modules Have Page Aligned Sections** | All DXE images (including C-based drivers) must have **≥ 4 KB** section alignment. **ARM64 DXE_RUNTIME_DRIVER** images must use **64 KB**. Set linker flags accordingly (e.g., `/ALIGN:0x1000` or `-z common-page-size=0x1000`). | [Driver Section Alignment](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#13-driver-section-alignment-must-be-a-multiple-of-4-kb) |
| [ ] | **1.4 [CpuDxe](https://github.com/tianocore/edk2/blob/HEAD/UefiCpuPkg/CpuDxe/CpuDxe.inf) is Removed From the Flash File** | CPU Arch & memory-attribute protocols are owned by Patina Core. Don’t include **CpuDxe** (and on ARM64, don’t include **ArmGicDxe**). Use a separate MP Services driver (e.g., **MpDxe** on x64). | [CpuDxe Is No Longer Used](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#14-cpudxe-is-no-longer-used) |
| [ ] | **2.1 Resource Descriptor HOB v2 is Used** | Use **Resource Descriptor HOB v2** (with exactly one valid cacheability attribute). v1 is ignored. Allowed: `UC`, `WC`, `WT`, `WB`, `WP`. **`UCE` is prohibited**. | [Resource Descriptor HOB v2](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#21-resource-descriptor-hob-v2) |
| [ ] | **2.2 All MMIO & Reserved Regions Are Described** | Provide **v2 Resource Descriptor HOBs** for *all* memory resources, including **MMIO** and **reserved** regions. | [MMIO & Reserved Regions](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#22-mmio-and-reserved-regions-require-resource-descriptor-hob-v2s) |
| [ ] | **2.3 No Overlap in HOB Reported Resources** | There must be **no overlaps** between Resource Descriptor HOB v2 entries. Split or remove duplicates so each address range is described by exactly one HOB. | [Overlapping HOBs Prohibited](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#23-overlapping-hobs-prohibited) |
| [ ] | **2.4 Page 0 is Not Allocated** | **Do not allocate page 0**. Patina unmaps it to catch null dereferences. | [No Memory Allocation HOB for Page 0](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#24-no-memory-allocation-hob-for-page-0) |
| [ ] | **3.1 No Memory Allocations/Deallocations After Exit Boot Servicesd** | After **ExitBootServices()**, the memory map **must not change**. Ensure all alloc/free happens **before** EBS callbacks. | [EBS Allocations Not Allowed](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#31-exit-boot-services-memory-allocations-are-not-allowed) |
| [ ] | **3.2 All DXE Code Used in the Platform Supports Native Address Width** | Patina allocates **top‑down**, so addresses may be **>4 GB**. All code must store pointers in **native-width** types (not 32‑bit ints). | [Native Address Width](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#32-all-code-must-support-native-address-width) |
| [ ] | **3.3 ConnectController() Is Called Explicitly** | Patina **does not** auto‑call `ConnectController()` during `StartImage()`. Drivers/platforms must call it for any handles they create/modify. | [ConnectController() Must Be Called](https://opendevicepartnership.github.io/patina/integrate/patina_dxe_core_requirements.html#33-connectcontroller-must-explicitly-be-called-for-handles-createdmodified-during-image-start) |
